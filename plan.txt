> * Mathematical Target: 40-50% Win Rate with a fixed 1:3 Risk-to-Reward (RR) ratio. -> there is no fixed target restriction, a trailing sl might be better to capture big moves

  Responding with gemini-3-flash-preview
✦ Strategic Plan: "Trend Sniper" – Multi-Asset Grouping & Trailing RR Strategy

  1. Understanding the Goal
  The objective is to transform the Forex/Commodity screener into an elite "Sniper" system that prioritizes quality over quantity.
   * Performance: 40–50% Win Rate, capturing moves of 1:3 RR or higher.
   * Selectivity: Only 1–3 signals per day across the entire 42-symbol universe.
   * Exit Strategy: Move away from fixed targets. Use a Trailing Stop Loss to ensure the system can capture massive "Home Run" moves (like the 1:8.7 RR NAS100 win) while protecting capital.
   * Core Methodology: Asset-specific "Caskets" (grouping symbols by behavior) and Multi-Timeframe (MTF) confirmation.

  2. Investigation & Analysis
  To build this, I will perform the following research:

  Winner Profile Reconstruction
   * Deep Dive on the 1:8.7 Trade: I will analyze the 1-Hour (1H) and 4-Hour (4H) context of the Nov 6th NAS100 SELL.
       * Hypothesis: The 15m entry happened exactly when the 1H and 4H EMA stacks were also perfectly aligned and ADX was crossing 30 on the higher timeframe.
   * Failed Trade Analysis: I will examine the "choppy" JPY losses.
       * Hypothesis: These losses occur when 15m signals trigger against the 1H trend or during "Mean Reversion" phases (price too far from 1H EMA).

  Asset Grouping Research
   * Group 1 (Aggressive Momentum): NAS100, DAX, USD/JPY, GBP/JPY. (High volatility, respects ADX breakouts).
   * Group 2 (Steady Trenders): EUR/USD, GBP/USD, AUD/USD, Gold. (Higher noise, requires 1H EMA slope confirmation).
   * Group 3 (Cyclical Commodities): Wheat, Soybeans, Corn. (Highly sensitive to Volume Surges and Squeezes).

  Critical Questions
   1. MTF Integration: Can the 15m detector wait for a "Pullback to 1H EMA13" before triggering a 15m crossover? (The "Rubber Band" effect).
   2. Squeeze Signature: Do the big winners always start from a Bollinger Band Squeeze on the 15m or 1H chart?

  3. Proposed Strategic Approach

  Phase 1: Higher Timeframe (HTF) "Master Filter"
   * The 1H Anchor: A 15m signal is strictly ignored unless the 1-Hour Trend is already established.
       * Buy Requirement: 1H Price > 1H EMA34 AND 1H ADX > 25.
       * Sell Requirement: 1H Price < 1H EMA34 AND 1H ADX > 25.

  Phase 2: Asset-Specific "Casket" Logic
   * Momentum Casket (Indices/JPY):
       * Focus on DI Momentum Jumps (> 7.0) and Volume Surges (> 2.0x).
   * Trend Casket (Majors/Gold):
       * Focus on EMA Proximity. Entry only if the 15m price is "hugging" the 15m EMA13/34 (buying the low-risk start of the wave).
   * Commodity Casket:
       * Focus on Bollinger Band Squeezes. Enter only when the 15m BB Width expands after being at a 24-hour low.

  Phase 3: Trailing Exit Optimization (The "Runner" Logic)
   * Initial Stop: EMA13 at entry (Fixed).
   * The Break-Even Pivot: Once the trade reaches 1:1.5 RR, the Stop Loss moves to Entry.
   * The Trailing Phase: Once the trade exceeds 1:2.0 RR, the Stop Loss switches to a Trailing EMA8 (for aggressive moves) or Trailing EMA13 (for steady trends) to capture the 1:3, 1:5, or 1:8+ moves.

  Phase 4: The "Top 3" Global Ranking
   * Daily Selection: The ForexScreener will analyze all 42 symbols but only output the 3 highest-scoring setups.
   * Ranking Score: (HTF_Score * 0.5) + (Volume_Accel * 0.3) + (DI_Jump * 0.2).

  4. Verification Strategy
   * Sniper Backtest: Create scripts/backtest_sniper.py to simulate the trailing logic and grouped parameters.
   * Frequency Test: Ensure the combined signal count does not exceed 3 per day. If it does, the "DI Jump" or "ADX Slope" requirements will be tightened.
   * Performance Benchmark: The goal is a Profit Factor > 2.0 and Average RR per Win > 3.0.

  5. Anticipated Challenges & Considerations
   * Missing the Big Move: Extreme selectivity might cause the system to miss a move that started "ugly" but turned beautiful. However, this is a necessary trade-off for the 50% win rate goal.
   * Data Latency: 1H and 15m data must be perfectly synced in the backend to ensure the "Master Filter" doesn't use future data (look-ahead bias).
   * Execution Speed: The "Sniper" entry (proximity to EMA) often happens in a split second. The UI must provide clear "Entry Zone" prices.

  Final Strategic Vision: A "Quiet but Deadly" screener that stays in the background until an Index, Commodity, or Pair aligns perfectly across two timeframes with a massive institutional volume surge.